<!DOCTYPE html>
<html lang="en">
<head>
    <!--
        ===
        This comment should NOT be removed.

        Charisma v2.0.0

        Copyright 2012-2014 Muhammad Usman
        Licensed under the Apache License v2.0
        http://www.apache.org/licenses/LICENSE-2.0

        http://usman.it
        http://twitter.com/halalit_usman
        ===
    -->
    <meta charset="utf-8">
    <title>成绩录入</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- The styles -->
    <link id="bs-css" href="css/bootstrap-cerulean.min.css" rel="stylesheet">

    <link href="css/charisma-app.css" rel="stylesheet">
    <link href='bower_components/fullcalendar/dist/fullcalendar.css' rel='stylesheet'>
    <link href='bower_components/fullcalendar/dist/fullcalendar.print.css' rel='stylesheet' media='print'>
    <link href='bower_components/chosen/chosen.min.css' rel='stylesheet'>
    <link href='bower_components/colorbox/example3/colorbox.css' rel='stylesheet'>

    <link href='  bower_components/datatables/media/css/jquery.dataTables.css' rel='stylesheet'>

    <link href='bower_components/responsive-tables/responsive-tables.css' rel='stylesheet'>

    <link href='css/jquery.noty.css' rel='stylesheet'>
    <link href='css/noty_theme_default.css' rel='stylesheet'>
    <link href='css/elfinder.min.css' rel='stylesheet'>
    <link href='css/elfinder.theme.css' rel='stylesheet'>
    <link href='css/jquery.iphone.toggle.css' rel='stylesheet'>
    <link href='css/uploadify.css' rel='stylesheet'>
    <link href='css/animate.min.css' rel='stylesheet'>
    <link href='css/app.css' rel='stylesheet'>

    <link href="css/bootstrap-datepicker.css" rel="stylesheet">

    <style media="screen">
        body {
            color: #154d88;
            background: rgba(233, 237, 241, 0.27);
            font-family: "Helvetica Neue", Roboto, Arial, "Droid Sans", sans-serif;
            font-size: 13px;
            font-weight: 400;
            line-height: 1.471;
        }
    </style>
    <!-- jQuery -->
    <script src="bower_components/jquery/jquery.min.js"></script>

    <!-- The HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- The fav icon -->
    <link rel="shortcut icon" href="/img/favicon.ico">
    <script>
        var hash = 'a291233';
    </script>

</head>

<body>
<!-- topbar starts -->
<div class="navbar navbar-default" role="navigation">

    <div class="navbar-inner">
        <button type="button" class="navbar-toggle pull-left animated flip">
            <span class="sr-only">切换导航</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <span class="iname">学生信息管理</span>

        <!-- user dropdown starts -->
        <div class="btn-group pull-right">
            <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">

                <i class="glyphicon glyphicon-user"></i><span class="hidden-sm hidden-xs"> 管理员</span>
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu">
                <li><a href="/settings"><i class="glyphicon glyphicon-user"></i> 个人资料</a></li>
                <li class="divider"></li>
                <li><a href="Setting_Users.html/logout"><i class="glyphicon glyphicon-log-out"></i> 退出登录</a></li>
            </ul>
        </div>
        <!-- Addmission dropdown starts -->
        <div class="btn-group pull-right">
            <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">

                <i class="glyphicon glyphicon-th-large"></i><span class=""> 通知</span>
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu">
                <li><a href="/applicants"><i class="glyphicon glyphicon-th-list"></i> 申请人名单</a></li>
                <li class="divider"></li>
                <li><a href="/regonline" target="_blank"><i class="glyphicon glyphicon-list-alt"></i> 在线注册</a></li>
                <li><a href="/admitcard" target="_blank"><i class="glyphicon glyphicon-print"></i> 打印许可证</a></li>





            </ul>
        </div>
        <!-- admission dropdown ends -->



        <!-- 证书 dropdown starts -->
        <div class="btn-group pull-right">
            <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">

                <i class="glyphicon glyphicon-book"></i><span class=""> 证书</span>
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu">

                <li><a href="/library/search"><i class="glyphicon glyphicon-search"></i> 书籍搜索</a></li>
                <li><a href="/library/issuebook"><i class="glyphicon glyphicon-pencil"></i> 借书</a></li>
                <li><a href="/library/issuebookview"><i class="glyphicon glyphicon-list"></i> 已借出书单</a></li>
                <li class="divider"></li>
                <li><a href="/library/view-show"><i class="glyphicon glyphicon-list"></i> 书籍列表</a></li>
                <li><a href="/library/addbook"><i class="glyphicon glyphicon-pencil"></i> 图书记录</a></li>
                <li><a href="/library/reports"><i class="glyphicon glyphicon-print"></i> Reports</a></li>
                <li><a href="/library/reports/fine"><i class="glyphicon glyphicon-print"></i> 月度罚款记录</a></li>


            </ul>
        </div>
        <!-- 证书 dropdown ends -->
        <!-- Dormitory dropdown starts -->
        <div class="btn-group pull-right">
            <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">

                <i class="glyphicon glyphicon-home"></i><span class=""> 课程</span>
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu">

                <li><a href="/dormitory"><i class="glyphicon glyphicon-home"></i> 宿舍详情</a></li>
                <li><a href="/dormitory/assignstd"><i class="glyphicon glyphicon-plus"></i> 添加学生</a></li>
                <li><a href="/dormitory/assignstd/list"><i class="glyphicon glyphicon-user"></i> 学生列表</a></li>
                <li class="divider"></li>
                <li><a href="/dormitory/fee"><i class="glyphicon glyphicon-list"></i> 住宿费用</a></li>
                <li><a href="/dormitory/report/std"><i class="glyphicon glyphicon-print"></i> 宿舍情况报告</a></li>
                <li><a href="/dormitory/report/fee"><i class="glyphicon glyphicon-print"></i> 费用报单</a></li>

            </ul>
        </div>
        <!-- Dormitory dropdown ends -->
        <!-- fees dropdown starts-->
        <div class="btn-group pull-right">
            <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">

                <i class="glyphicon glyphicon-list-alt"></i><span class=""> 成绩</span>
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu">
                <li><a href="/fees/view"><i class="glyphicon glyphicon-search"></i> 学费</a></li>
                <li><a href="/fee/collection"><i class="glyphicon glyphicon-pencil"></i> 缴费情况</a></li>

                <li class="divider"></li>
                <li><a href="/fees/list"><i class="glyphicon glyphicon-list"></i> 费用清单</a></li>
                <li><a href="/fees/setup"><i class="glyphicon glyphicon-cog"></i> 费用设置</a></li>
                <li class="divider"></li>
                <li><a href="/fees/report"><i class="glyphicon glyphicon-print"></i> 收费情况报单</a></li>

            </ul>
        </div>
        <!-- fees dropdown ends -->
        <!-- teacher dropdown starts-->
        <!-- <div class="btn-group pull-right">
             <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                 <i class="glyphicon glyphicon-user"></i><span class=""> Employee</span>
                 <span class="caret"></span>
             </button>
             <ul class="dropdown-menu">
                 <li><a href="/teacher/create"><i class="glyphicon glyphicon-plus"></i> 新增</a></li>
                 <li><a href="/teacher/list"><i class="glyphicon glyphicon-list-alt"></i> List</a></li>
                 <li class="divider"></li>
                 <li><a href="/leaves/create"><i class="glyphicon glyphicon-plus"></i> 新增 Leave</a></li>
                 <li><a href="/leaves"><i class="glyphicon glyphicon-list-alt"></i> Leave List</a></li>
                 <li class="divider"></li>
                 <li><a href="/workoutside/create"><i class="glyphicon glyphicon-plus"></i> 新增 Work Outside</a></li>
                 <li><a href="/workoutside"><i class="glyphicon glyphicon-list-alt"></i> Work Outside List</a></li>
                 <li class="divider"></li>
                                 <li><a href="/teacher-attendance/list"><i class="glyphicon glyphicon-list-alt"></i> Attendance List</a></li>
                 <li><a href="/teacher-attendance/absenteeism-report"><i class="glyphicon glyphicon-print"></i> Absenteeism Report</a></li>
                 <li><a href="/teacher-attendance/monthly-report"><i class="glyphicon glyphicon-print"></i> 年度证书报告 Report</a></li>
                 <li><a href="/teacher-attendance/monthly-report-2"><i class="glyphicon glyphicon-print"></i> 年度证书报告 Report Two</a></li>
             </ul>
         </div> -->
        <!-- teacher dropdown ends -->

    </div>
</div>
<!-- topbar ends -->
<div class="ch-container">
    <div class="row">

        <!-- left menu starts -->
        <div class="col-sm-2 col-lg-2">
            <div class="sidebar-nav">
                <div class="nav-canvas">
                    <div class="nav-sm nav nav-stacked">

                    </div>
                    <ul class="nav nav-pills nav-stacked main-menu">
                        <li class="nav-header">主菜单</li>
                        <li><a class="ajax-link" href="./dashboard.html"><i class="glyphicon glyphicon-th-large"></i><span> 主页</span></a>
                        </li>

                        <li class="accordion">
                            <a href="#"><i class="glyphicon glyphicon-home"></i><span> 班级</span></a>
                            <ul class="nav nav-pills nav-stacked">
                                <li><a href="create.html">新增班级</a></li>
                                <li><a href="list.html">班级列表</a></li>
                            </ul>
                        </li>
                        <li class="accordion">
                            <a href="#"><i class="glyphicon glyphicon-book"></i><span> 学科</span></a>
                            <ul class="nav nav-pills nav-stacked">
                                <li><a href="createSubject.html">新增</a></li>
                                <li><a href="listSubject.html">学科列表</a></li>
                            </ul>
                        </li>
                        <li class="accordion">
                            <a href="#"><i class="glyphicon glyphicon-user"></i><span> 学生</span></a>
                            <ul class="nav nav-pills nav-stacked">
                                <li><a href="createStudent.html">新增</a></li>
                                <li><a href="Studentlist.html">学生列表</a></li>

                            </ul>
                        </li>
                        <li class="accordion">
                            <a href="#"><i class="glyphicon glyphicon-pencil"></i><span> 证书记录</span></a>
                            <ul class="nav nav-pills nav-stacked">
                                <li><a href="create-file.html">从文件添加</a></li>
                                <!--<li><a href="createAttendance.html">添加证书</a></li>-->
                                <li><a href="Attendancelist.html">查看</a></li>


                            </ul>
                        </li>
                        <li class="accordion">
                            <a href="#"><i class="glyphicon glyphicon-list-alt"></i><span> 成绩管理</span></a>
                            <ul class="nav nav-pills nav-stacked">
                                <li><a href="createMarkManage.html">新增</a></li>
                                <li><a href="MarkManagelist.html">成绩列表</a></li>
                            </ul>
                        </li>
                        <li class="accordion">
                            <a href="#"><i class="glyphicon  glyphicon glyphicon-list"></i><span> 链上验证</span></a>
                            <ul class="nav nav-pills nav-stacked">
                                <li><a href="generate.html">生成全部成绩</a></li>
                                <li><a href="results.html">搜索</a></li>
                                <li><a href="resultsForVistor.html">全局搜索</a></li>

                            </ul>
                        </li>
                        <li class="">
                            <a href="/promotion"><i class="glyphicon glyphicon-arrow-up"></i><span> 升学</span></a>

                        </li>
                        <li class="accordion">
                            <a href="#"><i class="glyphicon  glyphicon glyphicon-list-alt"></i><span> 成绩核算</span></a>
                            <ul class="nav nav-pills nav-stacked">
                                <li><a href="/accounting/sectors">项目</a></li>
                                <li><a href="/accounting/income">增加收入项目</a></li>
                                <li><a href="/accounting/incomelist">查看收入项目</a></li>
                                <li><a href="/accounting/expence">增加支出项目</a></li>
                                <li><a href="/accounting/expencelist">查看支出项目</a></li>

                            </ul>
                        </li>
                        <li class="accordion">

                            <a href="#"><i class="glyphicon glyphicon-envelope"></i><span> 邮件中心</span></a>
                            <ul class="nav nav-pills nav-stacked">
                                <li><a href="SMS_Formats.html">邮件格式</a></li>
                                <li><a href="SMS_Send.html">批量发送</a></li>
                                <li><a href="SMS_Log.html">邮件日志</a></li>

                            </ul>
                        </li>
                        <li class="accordion">
                            <a href="#"><i class="glyphicon glyphicon-print"></i><span> 报单中心</span></a>
                            <ul class="nav nav-pills nav-stacked">
                                <li><a href="gradesheet.html">成绩表</a></li>
                                <li><a href="Attendancereport.html">全部证书</a></li>
                                <li><a href="monthly-report.html">年度证书报告</a></li>
                                <li><a href="tabulation.html">表单制作</a></li>
                                <!--<li><a href="/accounting/report">收支类型</a></li>-->
                                <!--<li><a href="/accounting/reportsum">收支平衡状况</a></li>-->
                                <!--<li><a href="/barcode">条形码生成</a></li>-->


                            </ul>
                        </li>
                        <li class="accordion">
                            <a href="#"><i class="glyphicon glyphicon-cog"></i><span> 设置</span></a>
                            <ul class="nav nav-pills nav-stacked">
                                <li><a href="Setting_GPA.html">绩点规则</a></li>

                                <li><a href="Setting_Users.html">用户</a></li>
                                <li><a href="Setting_Holidays.html">假期时间表</a></li>
                                <li><a href="Setting_Class.html">上课时间表</a></li>
                                <li><a href="Setting_Institute.html">学院信息</a></li>

                            </ul>
                        </li>
                    </ul>

                </div>
            </div>
        </div>
        <!--/span-->
        <!-- left menu ends -->
        <noscript>
            <div class="alert alert-block col-md-12">
                <h4 class="alert-heading">Warning!</h4>

                <p>You need to have <a href="http://en.wikipedia.org/wiki/JavaScript" target="_blank">JavaScript</a>
                    enabled to use this site.</p>
            </div>
        </noscript>

        <div id="content" class="col-lg-10 col-sm-10">
            <!-- content starts -->


            <div class="row">
                <div class="box col-md-12">
                    <div class="box-inner">
                        <div data-original-title="" class="box-header well">
                            <h2><i class="glyphicon glyphicon-user"></i> Marks Entry</h2>

                        </div>
                        <div class="box-content">
                            <form role="form" action="createMarkManage.html" method="post" enctype="multipart/form-data">
                                <input type="hidden" name="_token" value="84WDdhwpXfs6qfS0p3s1CRDb4dLlLvkHggoyPbtH">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="col-md-7">
                                            <div class="row">
                                                <div class="col-md-12">

                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label class="control-label" for="class">课程</label>

                                                            <div class="input-group">
                                                                <span class="input-group-addon"><i
                                                                        class="glyphicon glyphicon-home blue"></i></span>
                                                                <select id="class" name="class" class="form-control">
                                                                    <option value="">--选择课程--</option>

                                                                    <option value="cl1">高等数学</option>
                                                                    <option value="cl23">大学物理</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label" for="section">章节</label>

                                                            <div class="input-group">
                                                                <span class="input-group-addon"><i
                                                                        class="glyphicon glyphicon-info-sign blue"></i></span>
                                                                <select id="section" name="section"
                                                                        class="form-control">
                                                                    <option value="A">第一章</option>
                                                                    <option value="B">第二章</option>
                                                                    <option value="C">第三章</option>
                                                                    <option value="D">第四章</option>
                                                                    <option value="E">其他</option>

                                                                </select>


                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label class="control-label" for="shift">上课时间</label>

                                                            <div class="input-group">
                                                                <span class="input-group-addon"><i
                                                                        class="glyphicon glyphicon-info-sign blue"></i></span>
                                                                <select id="shift" name="shift" class="form-control">
                                                                    <option value="Day">上午</option>
                                                                    <option value="Morning">下午</option>
                                                                </select>

                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="col-md-3">
                                                        <div class="form-group ">
                                                            <label for="session">学期</label>
                                                            <div class="input-group">

                                                                <span class="input-group-addon"><i
                                                                        class="glyphicon glyphicon-calendar"></i> </span>
                                                                <input type="text" id="session" required="true"
                                                                       class="form-control datepicker2" name="session"
                                                                       data-date-format="yyyy">
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <label class="control-label" for="exam">测试</label>

                                                            <div class="input-group">
                                                                <span class="input-group-addon"><i
                                                                        class="glyphicon glyphicon-info-sign blue"></i>
                                                                </span>
                                                                <select name="exam" required="true"
                                                                        class="form-control">
                                                                    <option value="">-选择测试-</option>
                                                                    <option value="Class Test">随堂测试</option>
                                                                    <option value="Model Test">单元测试</option>
                                                                    <option value="First Term">期中测试</option>
                                                                    <option value="Mid Term">期末考试</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-5">
                                            <div class="row">
                                                <div class="col-md-2">

                                                </div>
                                                <div class="col-md-2">
                                                    <label>Marks</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <label>Written</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <label>MCQ</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <label>Practical</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <label>SBA</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label>Full Marks</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <label id="tfull">0</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <label id="wfull">0</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <label id="mfull">0</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <label id="pfull">0</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <label id="cfull">0</label>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label>Pass Marks</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <label id="tpass">0</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <label id="wpass">0</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <label id="mpass">0</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <label id="ppass">0</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <label id="cpass">0</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="table-responsive">
                                            <table id="studentList"
                                                   class="table table-striped table-bordered table-hover">
                                                <thead>
                                                <tr>

                                                    <th>Registration No</th>
                                                    <th>Roll No</th>
                                                    <th>Name</th>
                                                    <th>Written</th>
                                                    <th>MCQ</th>
                                                    <th>Practical</th>
                                                    <th>SBA</th>
                                                    <th>Absent</th>
                                                </tr>
                                                </thead>
                                                <tbody>


                                                <tbody>
                                            </table>
                                        </div>
                                    </div>

                                </div>

                                <div class="row alertZone" style="display: none;">

                                </div>
                                <!--button save -->
                                <div class="row">
                                    <div class="col-md-12">
                                        <button class="btn btn-primary pull-right" id="btnsave" type="submit"><i
                                                class="glyphicon glyphicon-plus"></i>Save
                                        </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!-- content ends -->
    </div><!--/#content.col-md-0-->
</div><!--/fluid-row-->
<div class="row">
    <div class="col-md-9 col-lg-9 col-xs-9 hidden-xs">


    </div>

</div>

<!-- footer content -->
<footer class="footer">
    <hr>
    <p class="col-md-3 col-sm-3 col-xs-12 copyright"><a href="#" target="_blank">HR Model High School</a> &copy;2018</p>
    <p class="col-md-9 col-sm-9 col-xs-12 powered-by">
        <!-- Don't remove below text. Its againts copy right laws. -->
        <strong>School Management System Version 1.0 - a291233</strong> || Developed by <a class="cplink"
                                                                                           href="http://shanixlab.com">ShanixLab</a>
    </p>
</footer>
<!-- /footer content -->
</div>
</div>
</div><!--/.fluid-container-->

<!-- external javascript -->

<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

<!-- library for cookie management -->
<script src="js/jquery.cookie.js"></script>
<!-- calender plugin -->
<script src='bower_components/moment/min/moment.min.js'></script>
<script src='bower_components/fullcalendar/dist/fullcalendar.min.js'></script>
<!-- data table plugin -->
<script src='bower_components/datatables/media/js/jquery.dataTables.js'></script>

<!-- select or dropdown enhancer -->
<script src="bower_components/chosen/chosen.jquery.min.js"></script>
<!-- plugin for gallery image view -->
<script src="bower_components/colorbox/jquery.colorbox-min.js"></script>
<!-- notification plugin -->
<script src="js/jquery.noty.js"></script>
<!-- library for making tables responsive -->
<script src="bower_components/responsive-tables/responsive-tables.js"></script>

<!-- star rating plugin -->
<script src="js/jquery.raty.min.js"></script>
<!-- for iOS style toggle switch -->
<script src="js/jquery.iphone.toggle.js"></script>
<!-- autogrowing textarea plugin -->
<script src="js/jquery.autogrow-textarea.js"></script>
<!-- multiple file upload plugin -->

<script src="js/jquery.history.js"></script>
<!-- application script for Charisma demo -->
<script src="js/charisma.js"></script>

<script src="js/bootstrap-datepicker.js"></script>
<script type="text/javascript">

    $(document).ready(function () {
        $('#btnsave').hide();
        $('form').on('submit', function (event) {
            // prevent default submit action
            var that = this;
            event.preventDefault();
            // test if form is valid
            var error = 0;
            var maxWritten = 0;
            var writtenError = 0;
            var maxMcq = 0;
            var mcqError = 0;
            var maxPractical = 0;
            var practicalError = 0;
            var maxSba = 0;
            var sbaError = 0;

            $('[name="written[]"').each(function () {
                var maxValue = $(this).attr('max');
                maxWritten = maxValue;
                var inputValue = $(this).val();
                if (parseFloat(maxValue) < parseFloat(inputValue)) {
                    error++;
                    writtenError = 1;
                }
            });
            $('[name="mcq[]"').each(function () {
                var maxValue = $(this).attr('max');
                maxMcq = maxValue;
                var inputValue = $(this).val();
                if (parseFloat(maxValue) < parseFloat(inputValue)) {
                    error++;
                    mcqError = 1;
                }
            });
            $('[name="practical[]"').each(function () {
                var maxValue = $(this).attr('max');
                maxPractical = maxValue;
                var inputValue = $(this).val();
                if (parseFloat(maxValue) < parseFloat(inputValue)) {
                    error++;
                    practicalError = 1;
                }
            });
            $('[name="ca[]"').each(function () {
                var maxValue = $(this).attr('max');
                maxSba = maxValue;
                var inputValue = $(this).val();
                if (parseFloat(maxValue) < parseFloat(inputValue)) {
                    error++;
                    sbaError = 1;
                }
            });

            if (error) {
                $('.alertZone').empty();
                var errorLi = "";

                if (writtenError) {
                    errorLi += '<li>Written mark must be equal or less than ' + maxWritten + '</li>';
                }
                if (mcqError) {
                    errorLi += '<li>MCQ mark must be equal or less than ' + maxMcq + '</li>';
                }
                if (practicalError) {
                    errorLi += '<li>Practical mark must be equal or less than ' + maxPractical + '</li>';
                }
                if (sbaError) {
                    errorLi += '<li>SBA mark must be equal or less than ' + maxSba + '</li>';
                }

//                    console.log(errorLi);
//                    console.log(maxWritten);
                var alertContents = '<div class="alert alert-danger">' +
                    '<button data-dismiss="alert" class="close" type="button">×</button>' +
                    '<ul class="alertItem">' + errorLi +
                    '</ul></div>';
                $('.alertZone').append(alertContents).show();
            } else {
                that.submit();
            }
        });
        $('#class').on('change', function (e) {
            var val = $(e.target).val();
            $.ajax({
                url: '/class/getsubjects/' + val,
                type: 'get',
                dataType: 'json',
                success: function (json) {
                    $('#subject').empty();
                    $('#subject').append($('<option>').text("--Select Subject--").attr('value', ""));
                    $.each(json, function (i, subject) {
                        // console.log(subject);

                        $('#subject').append($('<option>').text(subject.name).attr('value', subject.code));
                    });
                }
            });
        });

        $(".datepicker2").datepicker({
            format: " yyyy", // Notice the Extra space at the beginning
            viewMode: "years",
            minViewMode: "years",
            autoclose: true

        }).on('changeDate', function (ev) {
            var aclass = $('#class').val();
            var section = $('#section').val();
            var shift = $('#shift').val();
            var session = $('#session').val().trim();
            $.ajax({
                url: '/student/getList/' + aclass + '/' + section + '/' + shift + '/' + session,
                data: {
                    format: 'json'
                },
                error: function (error) {
                    alert(error);
                },
                dataType: 'json',
                success: function (data) {

                    $("#studentList").find("tr:gt(0)").remove();
                    if (data.length > 0) {
                        $('#btnsave').show();
                    }
                    for (var i = 0; i < data.length; i++) {
                        addRow(data[i], i);
                    }

                },
                type: 'GET'
            });

        });

        $("#subject").change(function () {

            $.ajax({
                url: '/subject/getmarks/' + $('#subject').val() + '/' + $('#class').val(),
                data: {
                    format: 'json'
                },
                error: function (error) {
                    console.log(error);
                },
                dataType: 'json',
                success: function (data) {

                    $('#tfull').text(data[0]['totalfull']);
                    $('#tpass').text(data[0]['totalpass']);

                    $('#wfull').text(data[0]['wfull']);
                    $('#wpass').text(data[0]['wpass']);

                    $('#mfull').text(data[0]['mfull']);
                    $('#mpass').text(data[0]['mpass']);

                    $('#pfull').text(data[0]['pfull']);
                    $('#ppass').text(data[0]['ppass']);

                    $('#cfull').text(data[0]['sfull']);
                    $('#cpass').text(data[0]['spass']);

                    $('[name="written[]"').each(function () {
                        $(this).attr('max', data[0]['wfull']);
                    });
                    $('[name="mcq[]"').each(function () {
                        $(this).attr('max', data[0]['mfull']);
                    });
                    $('[name="practical[]"').each(function () {
                        $(this).attr('max', data[0]['pfull']);
                    });
                    $('[name="ca[]"').each(function () {
                        $(this).attr('max', data[0]['sfull']);
                    });
                },
                type: 'GET'
            });

        });


    });

    function addRow(data, index) {
        var table = document.getElementById('studentList');
        var rowCount = table.rows.length;
        var row = table.insertRow(rowCount);
        // var cell1 = row.insertCell(0);
        //  var chkbox = document.createElement("label");
        // chkbox.type = "checkbox";
        //chkbox.name="chkbox[]";
        // cell1.appendChild(chkbox);

        var cell2 = row.insertCell(0);
        var regiNo = document.createElement("label");

        regiNo.innerHTML = data['regiNo'];
        cell2.appendChild(regiNo);
        var hdregi = document.createElement("input");
        hdregi.name = "regiNo[]";
        hdregi.value = data['regiNo'];
        hdregi.type = "hidden";
        cell2.appendChild(hdregi);


        var cell3 = row.insertCell(1);
        var rollno = document.createElement("label");
        rollno.innerHTML = data['rollNo'];
        cell3.appendChild(rollno);
        /*   var hdroll = document.createElement("input");
           hdroll.name="rollNo[]";
           hdroll.value=data['rollNo'];
          hdroll.type="hidden";
          cell3.appendChild(hdroll);*/


        var cell4 = row.insertCell(2);
        var name = document.createElement("label");
        name.innerHTML = data['firstName'] + ' ' + data['middleName'] + ' ' + data['lastName'];
        cell4.appendChild(name);

        var cell5 = row.insertCell(3);
        var written = document.createElement("input");
        written.type = "text";

        written.name = "written[]";
        written.required = "true";
        written.size = "2";
        written.value = "0";
        written.maxlength = "2";
        written.class = "form-control";
        cell5.appendChild(written);

        var cell6 = row.insertCell(4);
        var mcq = document.createElement("input");
        mcq.type = "text";

        mcq.name = "mcq[]";
        mcq.required = "true";
        mcq.size = "2";
        mcq.value = "0";
        cell6.appendChild(mcq);

        var cell7 = row.insertCell(5);
        var practical = document.createElement("input");
        practical.type = "text";

        practical.name = "practical[]";
        practical.required = "true";
        practical.size = "2";
        practical.value = "0";
        cell7.appendChild(practical);

        var cell8 = row.insertCell(6);
        var ca = document.createElement("input");
        ca.type = "text";

        ca.name = "ca[]";
        ca.required = "true";
        ca.size = "2";
        ca.value = "0";
        cell8.appendChild(ca);

        var cell9 = row.insertCell(7);
        var chkbox = document.createElement("input");
        chkbox.type = "text";
        chkbox.placeholder = "No";
        chkbox.name = "absent[]";
        chkbox.size = "3";
        cell9.appendChild(chkbox);
    };

</script>

</body>
</html>
